[user]
	name = Martin Ledgard
	email = martin@le6o.com

[color]
	ui = True

[merge]
	log = True

[alias]
	br = branch -vv
	ci = commit
	co = checkout
	nb = !sh -c 'git fetch && git co origin/master --no-track -b $1' -
	ri = rebase --interactive --autosquash
	st = status -s

	amp = add -p
	cmp = checkout -p
	rmp = reset HEAD -p

	rim = !git ri origin/master

	amend = commit --amend -C HEAD

	continue = rebase --continue

	fix = !sh -c 'git commit --fixup=$1' -

	lg  = log --oneline --decorate --graph
	lgm = log --oneline --decorate --graph ...origin/master

	# log all merge commits since last tag
	lgt = !sh -c 'git log --oneline --merges origin/master...$(git describe --abbrev=0 --tags)'

	nuke = reset --hard HEAD

	pick = cherry-pick

	# Pushs up to a new branch matching the current branch name and sets upstream tracking
	# assumes a default remote of 'origin'
	# Thanks @cs278, https://github.com/cs278/dotfiles/blob/master/.gitconfig#L95
	pushup = "!sh -c 'remote=$1; [ -z $remote ] && remote=origin; branch=$(git symbolic-ref -q HEAD) || exit 1; branch=${branch##refs/heads/}; git push --set-upstream $remote $branch' -"

	remotes = remote -v

	staged = diff --cached

[rerere]
	enabled = True
[fetch]
	prune = true
[pull]
	rebase = true
[push]
	default = upstream
[core]
	excludesfile = ~/.gitignore
